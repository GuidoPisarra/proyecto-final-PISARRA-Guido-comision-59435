import{a as B,c as k,d as G,e as P,q as V}from"./chunk-PGJU2VVE.js";import"./chunk-JNFBHA52.js";import{t as M}from"./chunk-UM3USEKK.js";import"./chunk-BUIY3QUJ.js";import{Aa as D,Ba as L,Ca as j,a as S,k as F,m as a,na as N,oa as x,qa as R,sa as T,ta as f,va as _,wa as E,za as A}from"./chunk-W43C5WKI.js";import{Hb as h,Pb as i,Qb as r,Rb as C,Yb as b,gd as I,ic as n,jc as w,kb as u,la as s,lb as c,va as p,wa as l}from"./chunk-YTEZ3TT7.js";var d=class o{constructor(t,e,m){this.formBuilder=t;this._authService=e;this.router=m;this.loginForm=this.formBuilder.group({email:["",[f.required,f.email]],password:["",[f.required]]})}passwordInputType="password";loginForm;togglePasswordInputType(){this.passwordInputType==="password"?this.passwordInputType="text":this.passwordInputType="password"}login(){this._authService.login(this.loginForm.value).subscribe({next:t=>{this.router.navigate(["dashboard","home"])},error:t=>{console.error(t),t instanceof Error&&alert(t.message),t instanceof S&&t.status===0&&alert("No se pudo conectar con el servidor")}})}onSubmit(){this.loginForm.invalid?this.loginForm.markAllAsTouched():this.login()}static \u0275fac=function(e){return new(e||o)(c(j),c(M),c(F))};static \u0275cmp=p({type:o,selectors:[["app-login"]],decls:19,vars:3,consts:[[1,"w-100"],[1,"row",3,"ngSubmit","formGroup"],[1,"col-12"],["formControlName","email","matInput",""],["formControlName","password","matInput","",3,"type"],["type","button","matSuffix","","mat-icon-button","",3,"click"],["mat-fab","","extended","","type","submit",1,"w-100","btn-ingresar"]],template:function(e,m){e&1&&(i(0,"h3",0),n(1,"Iniciar sesi\xF3n"),r(),i(2,"form",1),b("ngSubmit",function(){return m.onSubmit()}),i(3,"div",2)(4,"mat-form-field",0)(5,"mat-label"),n(6,"Email"),r(),C(7,"input",3),r()(),i(8,"div",2)(9,"mat-form-field",0)(10,"mat-label"),n(11,"Contrase\xF1a"),r(),C(12,"input",4),i(13,"button",5),b("click",function(){return m.togglePasswordInputType()}),i(14,"mat-icon"),n(15),r()()()(),i(16,"div",2)(17,"button",6),n(18,"Ingresar"),r()()()),e&2&&(u(2),h("formGroup",m.loginForm),u(10),h("type",m.passwordInputType),u(3),w(m.passwordInputType=="password"?"visibility_off":"visibility"))},dependencies:[A,T,_,E,D,L,x,N,R,G,B,k,P],styles:[".btn-ingresar[_ngcontent-%COMP%]{background-color:orange;color:#121316;font-size:20px}h3[_ngcontent-%COMP%]{color:orange}"]})};var g=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-register"]],decls:2,vars:0,template:function(e,m){e&1&&(i(0,"p"),n(1,"register works!"),r())}})};var H=[{path:"login",component:d},{path:"register",component:g},{path:"**",redirectTo:"login"}],v=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=l({type:o});static \u0275inj=s({imports:[a.forChild(H),a]})};var q=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=l({type:o});static \u0275inj=s({imports:[I,v,V,a]})};export{q as AuthModule};

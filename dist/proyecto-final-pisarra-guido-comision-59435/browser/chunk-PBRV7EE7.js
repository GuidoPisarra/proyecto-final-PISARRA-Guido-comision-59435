import{d as f,f as M,i as S}from"./chunk-7CFB227R.js";import{t as h}from"./chunk-UM3USEKK.js";import{o as A}from"./chunk-BUIY3QUJ.js";import{k as p,m,pa as v,ra as C}from"./chunk-W43C5WKI.js";import{ca as l,gd as d,ka as c,la as i,pa as s,wa as a,x as u}from"./chunk-YTEZ3TT7.js";var e=class t{constructor(r,o){this.authService=r;this.router=o}canActivate(r,o){let b=r.data.roles;return this.authService.verifyToken().pipe(l(j=>j?this.authService.getUserRole().pipe(u(y=>b.includes(y)?!0:(this.router.navigate(["auth"]),!1))):(this.router.navigate(["auth","login"]),[!1])))}static \u0275fac=function(o){return new(o||t)(s(h),s(p))};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})};var I=[{path:"home",data:{title:"Inicio",roles:["admin","user"]},canActivate:[e],loadChildren:()=>import("./chunk-Q4TSWPCA.js").then(t=>t.HomeModule)},{path:"students",data:{title:"Alumnos",roles:["admin","user"]},canActivate:[e],loadChildren:()=>import("./chunk-G5R46QXP.js").then(t=>t.StudentsModule)},{path:"clases",data:{title:"Clases",roles:["admin","user"]},canActivate:[e],loadChildren:()=>import("./chunk-7JLORVAR.js").then(t=>t.ClasesModule)},{path:"courses",data:{title:"Cursos",roles:["admin","user"]},canActivate:[e],loadChildren:()=>import("./chunk-D7GBA5XE.js").then(t=>t.CoursesModule)},{path:"users",data:{title:"Usuarios",roles:["admin"]},canActivate:[e],loadChildren:()=>import("./chunk-WRJGE6U4.js").then(t=>t.UsersModule)},{path:"**",redirectTo:"home"}],n=class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=a({type:t});static \u0275inj=i({imports:[m.forChild(I),m]})};var g=class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=a({type:t});static \u0275inj=i({imports:[d,n,f,v,M,S,C,A]})};export{g as DashboardModule};
